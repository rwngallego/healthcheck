(this["webpackJsonpservice-health-ui"]=this["webpackJsonpservice-health-ui"]||[]).push([[0],{148:function(e,t,n){},149:function(e,t,n){},222:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(26),s=n.n(a),i=(n(148),n(50)),o=n(62),u=n(252),j=n(257),d=n(255),l=n(262),b=n(263),h=n(253),f=n(258),O=n(61),p=n(260),x=(n(149),n(13)),v={labelCol:{span:2},wrapperCol:{span:8}},m={wrapperCol:{offset:2}};function g(e){var t=e.onSubmit,n=h.a.useForm(),c=Object(o.a)(n,1)[0],r=function(e){!0===e&&c.resetFields()};return Object(x.jsxs)(h.a,Object(i.a)(Object(i.a)({form:c,onFinish:function(e){t(e).then(r)}},v),{},{children:[Object(x.jsx)(h.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Name is required"}],children:Object(x.jsx)(f.a,{placeholder:"RabbitMQ"})}),Object(x.jsx)(h.a.Item,{label:"Url",name:"url",tooltip:"Accepted format 'protocol://host:port/path?query'",rules:[{required:!0,message:"Url is required"}],children:Object(x.jsx)(f.a,{placeholder:"http://127.0.0.1:8080/monitor"})}),Object(x.jsx)(h.a.Item,Object(i.a)(Object(i.a)({},m),{},{children:Object(x.jsx)(O.a,{type:"primary",htmlType:"submit",icon:Object(x.jsx)(p.a,{}),children:"Create"})}))]}))}var C=n(67),y=(n(222),C.a.Option);function A(e){var t=e.users,n=e.onUserChange;return Object(x.jsxs)("div",{children:["User:\xa0",Object(x.jsx)(C.a,{defaultActiveFirstOption:!0,className:"user-selector-select",onChange:n,children:t.map((function(e){return Object(x.jsx)(y,{value:e.id,children:e.name},e.id)}))})]})}n(223);var N=u.a.Header;function S(e){var t=e.users,n=e.onUserChange;return Object(x.jsx)(N,{className:"header-section",children:Object(x.jsx)(A,{users:t,onUserChange:n})})}var F=n(261),U=(n(224),u.a.Sider);function w(e){var t=e.onRefresh;return Object(x.jsx)(U,{className:"sider-section",style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:Object(x.jsx)(O.a,{type:"default",htmlType:"submit",onClick:t,icon:Object(x.jsx)(F.a,{}),children:"Refresh"})})}var I=n(256),T=n(254),q=n(143),L=n(259);n(225);function R(e){var t=e.url,n=e.createdAt,c=e.updatedAt,r=e.status;return Object(x.jsx)("div",{children:Object(x.jsxs)(q.a,{content:function(e,t){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:["Created: ",e]}),Object(x.jsxs)("div",{children:["Last update: ",t]})]})}(n,c),title:"More information",trigger:"hover",children:[Object(x.jsx)(L.a,{type:"circle",percent:function(e){return"UNKNOWN"===e?0:100}(r),status:function(e){return"FAIL"===e?"exception":""}(r)}),Object(x.jsx)("div",{children:Object(x.jsx)("a",{className:"status-url",href:t,children:t})})]})})}n(226);function M(e){var t=e.services;return Object(x.jsx)(I.b,{grid:{gutter:16,column:4},dataSource:t,renderItem:function(e){return Object(x.jsx)(I.b.Item,{children:Object(x.jsx)(T.a,{title:e.name,children:Object(x.jsx)(R,{name:e.name,url:e.url,createdAt:e.created_at,updatedAt:e.updated_at,status:e.status})})})}})}var k=n(92),E=n.n(k),B="http://127.0.0.1:8888/api/v1";n(249);var J=u.a.Content;var P=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(0),s=Object(o.a)(a,2),h=s[0],f=s[1],O=Object(c.useState)([]),p=Object(o.a)(O,2),v=p[0],m=p[1];Object(c.useEffect)((function(){C()}),[]),Object(c.useEffect)((function(){y(h)}),[h]);var C=function(){E.a.get("".concat(B,"/users")).then((function(e){return e.data})).then((function(e){r(e)})).catch(A)},y=function(e){(function(e){return E.a.get("".concat(B,"/users/").concat(e,"/services")).then((function(e){return e.data}))})(e).then((function(e){m(e)})).catch(A)},A=function(e){j.a.open({message:"Operation failed",description:"Could not connect to the server",icon:Object(x.jsx)(b.a,{})})};return Object(x.jsx)(u.a,{children:Object(x.jsxs)(u.a,{children:[Object(x.jsx)(w,{onRefresh:function(){C(),y(h)}}),Object(x.jsxs)(u.a,{className:"App-layout",children:[Object(x.jsx)(S,{users:n,onUserChange:function(e){f(e)}}),Object(x.jsxs)(J,{children:[Object(x.jsx)(d.a,{title:"Add service",subTitle:"Add a new service with name and URL"}),Object(x.jsx)(g,{onSubmit:function(e){return function(e,t){return E.a.post("".concat(B,"/users/").concat(e,"/services"),t).then((function(e){return e.data}))}(h,Object(i.a)({},e)).then((function(){return y(h),j.a.open({message:"Service created",description:"The service was correctly created",icon:Object(x.jsx)(l.a,{})}),!0})).catch((function(){return j.a.open({message:"Operation failed",description:"Could not create the service",icon:Object(x.jsx)(b.a,{})}),!1}))}}),Object(x.jsx)(d.a,{title:"Monitored services"}),Object(x.jsx)(M,{services:v})]})]})]})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,264)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(P,{})}),document.getElementById("root")),_()}},[[250,1,2]]]);
//# sourceMappingURL=main.ae4c85cd.chunk.js.map